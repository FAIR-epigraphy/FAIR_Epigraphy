<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <div id="demo"></div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script>
        getText("Xtriple/IGCyr.xml");

        async function getText(file) {
            let myObject = await fetch(file);
            let myText = await myObject.text();

            var settings = {
                "async": true,
                "crossDomain": true,
                "url": "https://xtriples.lod.academy/extract.xql",
                "method": "POST",
                "headers": {
                    "Content-Type": "application/xml",
                    "format": "application/rdf+xml",
                    "cache-control": "no-cache",
                },
                "data": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<?xml-model\r\nuri=\"https://xtriples.lod.academy/xtriples.rng\" type=\"application/xml\" schematypens=\"http://relaxng.org/ns/structure/1.0\"\r\n?>\n<!--https://xtriples.lod.academy/documentation.html\r\nonce stored somewhere, the configuration can be called like in this example\r\nhttps://xtriples.lod.academy/extract.xql?configuration=https://xtriples.lod.academy/examples/gods/configuration.xml&format=svg\r\nto return directly the results (also format turtle for example)\r\n-->\n<xtriples>\n    <configuration>\n        <vocabularies>\n            <vocabulary prefix=\"t\" uri=\"http://www.tei-c.org/ns/1.0\"/>\n            <vocabulary prefix=\"igcyr\" uri=\"https://igcyr.unibo.it/igcyr/\"/>\n            <!--CHANGE ME-->\n            <vocabulary prefix=\"tm\" uri=\"https://www.trismegistos.org/text/\"/>\n            <vocabulary prefix=\"rdfs\" uri=\"http://www.w3.org/2000/01/rdf-schema#\"/>\n            <vocabulary prefix=\"rdf\" uri=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"/>\n            <vocabulary prefix=\"dc\" uri=\"http://purl.org/dc/elements/1.1/\"/>\n            <vocabulary prefix=\"dcterms\" uri=\"http://purl.org/dc/terms/\"/>\n            <vocabulary prefix=\"xsd\" uri=\"http://www.w3.org/2001/XMLSchema#\"/>\n            <vocabulary prefix=\"owl\" uri=\"http://www.w3.org/2002/07/owl#\"/>\n            <vocabulary prefix=\"crm\" uri=\"http://erlangen-crm.org/current/\"/>\n            <vocabulary prefix=\"skos\" uri=\"http://www.w3.org/2004/02/skos/core#\"/>\n            <vocabulary prefix=\"frbr\" uri=\"http://purl.org/vocab/frbr/core#\"/>\n            <vocabulary prefix=\"nmo\" uri=\"http://nomisma.org/ontology#\"/>\n            <vocabulary prefix=\"lawd\" uri=\"http://lawd.info/ontology/\"/>\n            <vocabulary prefix=\"foaf\" uri=\"http://xmlns.com/foaf/0.1/\"/>\n            <vocabulary prefix=\"gn\" uri=\"http://www.geonames.org/ontology#\"/>\n            <vocabulary prefix=\"gndo\" uri=\"http://d-nb.info/standards/elementset/gnd#\"/>\n            <vocabulary prefix=\"geo\" uri=\"http://www.opengis.net/ont/geosparql#\"/>\n            <vocabulary prefix=\"edh\" uri=\"http://edh-www.adw.uni-heidelberg.de/edh/ontology#\"/>\n            <vocabulary prefix=\"epnet\"\r\n                uri=\"http://www.semanticweb.org/ontologies/2015/1/EPNet-ONTOP_Ontology#\"/>\n            <vocabulary prefix=\"edm\" uri=\"http://www.europeana.eu/schemas/edm/\"/>\n            <vocabulary prefix=\"svcs\" uri=\"http://rdfs.org/sioc/services#\"/>\n            <vocabulary prefix=\"doap\" uri=\"http://usefulinc.com/ns/doap#\"/>\n            <vocabulary prefix=\"crmtex\" uri=\"http://www.cidoc-crm.org/crmtex/\"/>\n            <vocabulary prefix=\"crmsci\" uri=\"http://www.cidoc-crm.org/crmsci/\"/>\n            <vocabulary prefix=\"extech\" uri=\"https://w3id.org/executionTechnique/ontology#\"/>\n            <vocabulary prefix=\"eagle\" uri=\"https://www.eaglenetwork.eu/voc/writing/lod/\"/>\n            <vocabulary prefix=\"eagleExTech\" uri=\"https://www.eagle-network.eu/voc/writing/lod/\"/>\n            <vocabulary prefix=\"eagleObjTyp\" uri=\"https://www.eagle-network.eu/voc/objtyp/lod/\"/>\n            <vocabulary prefix=\"eagleInsTyp\" uri=\"https://www.eagle-network.eu/voc/typeins/lod/\"/>\n            <vocabulary prefix=\"eagleMat\" uri=\"https://www.eagle-network.eu/voc/material/lod/\"/>\n            <vocabulary prefix=\"epont\" uri=\"http://Temporary.Epigraphic.Ontology/\"/>\n        </vocabularies>\n        <triples>\n            <!--            \r\n :Object a crm:E84_Information_carrier ; \r\n  \tepOnt:carriesText :INS1 ;  \r\n\tdcterms:temporal :Period ;\r\n\tedh:representsTypeOfMonument eagleObjTyp:123 ; \r\n\tcrm:P46_is_composed_of : OBJ2, OBJ3 ; \r\n         \tnmo:hasMaterial eagleMat:48 ;\r\n           \tlawd:foundAt :Place ; \r\n            lawd:origin :Place2 ;\r\n            crm:P55_has_current_location :Place3 ;\r\n            epnet:isDocumentedBy :BibliographicResource ;\r\n\tcrm:P138i_has_representation :image1 . \r\n-->\n            <!--          This should look at bibliography.xml, but for what?\r\n                <statement><subject prefix=\"igcyr\">//t:idno[@type='filename']</subject><predicate prefix=\"epnet\">isDocumentedBy</predicate><object type=\"uri\">//t:bibl/t:ptr/@target</object></statement>-->\n            <!--            the path where to retrieve an identifier is not specified in EpiDoc, this is where EAGLE has it in most cases-->\n            <statement>\n                <subject prefix=\"igcyr\">//t:idno[@type='filename']</subject>\n                <predicate prefix=\"rdf\">type</predicate>\n                <object prefix=\"crm\" type=\"uri\">/string(\"E22_Human-Made_Object\")</object>\n            </statement>\n            <!--            This should create a uri http://base.uri/{id}/WrittenText for the inscription-->\n            <statement>\n                <subject prefix=\"igcyr\">//t:idno[@type='filename']</subject>\n                <predicate prefix=\"epont\">carriesText</predicate>\n                <object prefix=\"igcyr\" append=\"/WrittenText\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</object>\n            </statement>\n            <!--            for dctemporal with PeriodO Uris \r\n                <subject resource=\"http://dbpedia.org/data/Hera.rdf\">//foaf:isPrimaryTopicOf/@rdf:resource</subject>\r\n                picking from the RDF representation-->\n            <!--          http://www.stoa.org/epidoc/gl/latest/supp-descobject.html \r\n            the use of @ref is however not specified and is the use of the EAGLE project -->\n            <statement>\n                <subject prefix=\"igcyr\">//t:idno[@type='filename']</subject>\n                <predicate prefix=\"edh\">representsTypeOfMonument</predicate>\n                <!--                Achtung! the URIs are not correct, there are HTML links in some cases... probably originated in EAGLE data export-->\n                <object type=\"uri\">//t:objectType/@ref</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\">//t:idno[@type='filename']</subject>\n                <predicate prefix=\"nmo\">hasMaterial</predicate>\n                <object type=\"uri\">//t:material/@ref</object>\n            </statement>\n            <!--            https://www.stoa.org/epidoc/gl/latest/supp-historigin.html (see last example in section on structured data )-->\n            <statement>\n                <subject prefix=\"igcyr\">//t:idno[@type='filename']</subject>\n                <predicate prefix=\"lawd\">foundAt</predicate>\n                <object type=\"uri\">//t:placeName[@type='ancientFindspot']/@ref</object>\n            </statement>\n            <!--            \r\n:INS1 a crmtex:TX1_Written_text ; \r\n          \tcrm:P56_is_found_on :Object ; \r\n            nmo:hasEndDate  \"0300\" ; \r\n            nmo:hasStartDate   \"0001\" ;\r\n            crmtex:TXP2_is_included_within :Field ;\r\n          \tcrm:P108_was_produced_by :Activity1;\r\n          \textech:hasExecutionPhase :Activity2;\r\n          \textech:hasExecutionPhase :Activity3 ;\r\n           \tcrmsci:O6_observed_by :Autopsy1 . -->\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/WrittenText\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"rdf\">type</predicate>\n                <object prefix=\"crmtex\" type=\"uri\">/string(\"TX1_Written_text\")</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/WrittenText\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"crm\">P56_is_found_on</predicate>\n                <object prefix=\"igcyr\" type=\"uri\">//t:idno[@type='filename']</object>\n            </statement>\n            <!--            http://www.stoa.org/epidoc/gl/latest/supp-historigdate.html-->\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/WrittenText\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"nmo\">hasStartDate</predicate>\n                <object type=\"literal\" datatype=\"date\"\r\n                    >//t:origin//t:origDate/@notBefore-custom</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/WrittenText\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"nmo\">hasEndDate</predicate>\n                <object type=\"literal\" datatype=\"date\"\r\n                    >//t:origin//t:origDate/@notAfter-custom</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/WrittenText\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"crm\">P108_was_produced_by</predicate>\n                <object prefix=\"igcyr\" append=\"/Writing\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/WrittenText\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"crmsci\">O6_observed_by</predicate>\n                <object prefix=\"igcyr\" append=\"/Reading\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</object>\n            </statement>\n            <!--            This is not specified in EpiDoc, it is the use of the EAGLE project-->\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/WrittenText\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"foaf\">page</predicate>\n                <object type=\"uri\">//t:idno[@type='URI']</object>\n            </statement>\n            <!--            \r\n:Activity1 a crmtex:TX2_Writing ; \r\n        crmtex:TXP1_used_writing_system :Script ;\r\n        crm:P92_brought_into_existence :Text .\r\n-->\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Writing\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"rdf\">type</predicate>\n                <object prefix=\"crmtex\" type=\"uri\">/string(\"TX2_Writing\")</object>\n            </statement>\n            <!--            http://www.stoa.org/epidoc/gl/latest/supp-structure.html-->\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Writing\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"crmtex\">TXP1_used_writing_system</predicate>\n                <object type=\"literal\">//t:div[@type='edition']/@xml:lang</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Writing\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"crm\">P92_brought_into_existence</predicate>\n                <object prefix=\"igcyr\" append=\"/WrittenWork\" type=\"uri\">//t:idno[@type='filename']</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Writing\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"extech\">usesTechnique</predicate>\n                <object  type=\"uri\">//t:rs[@type='execution']/@ref</object>\n            </statement>\n            <!--  \r\n:Text a lawd:WrittenWork ;  # E33linguistic object\r\n        saws:isVersionOf :AnyTextUri ;\r\n        saws:isCopyInAnotherLanguageOf  :AnyTextUri .\r\n-->\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/WrittenWork\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"rdf\">type</predicate>\n                <object prefix=\"lawd\" type=\"uri\">/string('WrittenWork')</object>\n            </statement>\n            <!--            :Autopsy1 a crmtex:TX5_Reading ; \r\ncrm:P20_had_specific_purpose :Transcription ;\r\ncrmtex:TXP3_is_rendered_by :Transcription ;\r\ncrm:P14_carried_by :editor1 .\r\n-->\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Reading\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"rdf\">type</predicate>\n                <object prefix=\"crmtex\" type=\"uri\">/string('TX5_Reading')</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Reading\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"crm\">P20_had_specific_purpose</predicate>\n                <object prefix=\"igcyr\" append=\"/Transcription\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Reading\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"crmtex\">TXP3_is_rendered_by</predicate>\n                <object prefix=\"igcyr\" append=\"/Transcription\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</object>\n            </statement>\n            <!--        \r\n :Transcription a crmtex:TX6_Transcription ;\r\n            dct:contributor        :Contributor ;\r\n        \tdct:date               \"2014-10-21\"^^xsd:date ;\r\n            dct:publisher          <http://edh-www.adw.uni-heidelberg.de> ;\r\n\tdct:isPartOf \t\"Epigraphic Database Heidelberg\" ;\r\n\tcrm:P49_created :TranscriptionText ;\r\n\tepOnt:hasEdition :Edition ;\r\n           \tedh:representsTypeOfInscription eagleInsTyp:123 ;\r\n\tlawd:hasAttestation :Attestation1 .\r\n-->\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Transcription\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"rdf\">type</predicate>\n                <object prefix=\"crmtex\" type=\"uri\">/string('TX6_Transcription')</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Transcription\" type=\"uri\">//t:idno[@type='filename']</subject>\n                <predicate prefix=\"crm\">P14_carried_out_by</predicate>\n                <object type=\"uri\">//t:respStmt/t:name/@ref</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Transcription\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"dc\">publisher</predicate>\n                <object prefix=\"igcyr\" append=\"/Contributor\" type=\"uri\">//t:publisher</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Transcription\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"crm\">P49_created</predicate>\n                <object prefix=\"igcyr\" append=\"/TranscriptionText\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Transcription\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"crm\">P1_is_identified_by</predicate>\n                <object type=\"literal\">//t:idno[not(@type='URI')][not(@type='filename')][not(@type='TM')]</object>\n            </statement>\n            <!--            This is not in EpiDoc, it is how EAGLE does this mapping-->\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Transcription\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"edh\">representsTypeOfInscription</predicate>\n                <object type=\"uri\">//t:term/@ref</object>\n            </statement>\n            <!--            This is done like this only in the EAGLE files!-->\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Transcription\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"crm\">P48_has_preferred_identifier</predicate>\n                <object prefix=\"tm\" type=\"uri\"\r\n                    >//t:idno[@type='TM']</object>\n            </statement>\n            <!--            http://www.stoa.org/epidoc/gl/latest/supp-desctext.html\r\n            the use of @ref to align to an external URI is the use in EAGLE -->\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Transcription\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"edh\">representsTypeOfInscription</predicate>\n                <object type=\"uri\">//t:rs[@type='textType']/@ref</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/Transcription\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"epont\">hasEdition</predicate>\n                <object prefix=\"igcyr\" append=\"/Edition\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</object>\n            </statement>\n            <!--\r\n:TranscriptionText a crm:E33_Linguistic_Object ; \r\nedh:hasDiplomaticText \"string literal?\" ;\r\nepnet:hasTranscription \"literal\"; \r\n\tepnet:hasSimplifiedTranscription \"literal\" .\r\n    -->\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/TranscriptionText\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"rdf\">type</predicate>\n                <object prefix=\"crm\" type=\"uri\">/string('E33_Linguistic_Object')</object>\n            </statement>\n            <statement>\n                <subject prefix=\"igcyr\" append=\"/TranscriptionText\" type=\"uri\"\r\n                    >//t:idno[@type='filename']</subject>\n                <predicate prefix=\"epnet\">hasTEI-annotatedTranscription</predicate>\n                <object>//t:div[@type='edition']</object>\n            </statement>\n        </triples>\n    </configuration>\n    <collection>\n        <resource uri=\"https://igcyr.unibo.it/igcyr/igcyr016800.xml\"/>\n    </collection>\n</xtriples>"
            }

            $.ajax(settings).done(function (response) {
                console.log(response);
            });
        }
    </script>
</body>
</html>