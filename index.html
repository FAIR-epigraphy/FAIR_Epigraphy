<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <div id="demo"></div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script>
        getText("Xtriple/IGCyr.xml");

        async function getText(file) {
            let myObject = await fetch(file);
            let myText = await myObject.text();

            //var request = $.ajax({
            //    url: "https://xtriples.lod.academy/extract.xql",
            //    headers: { 'Access-Control-Allow-Origin': '*' },
            //    dataType: "json",
            //    contentType: 'application/json',//"application/xml",
            //    method: "POST",
            //    data: JSON.stringify({ format: 'rdf', configuration: myText }),
            //    async: true,
            //    processData: false,
            //    cache: false,
            //    crossDomain: true,
            //    //dataType: "rdf",
            //    //origin: '*'
            //});
            var request = $.ajax({
                url: "https://xtriples.lod.academy/extract.xql",
                cache: false,
                dataType: "json",
                method: "POST",
                contentType: 'application/json',//"application/xml",
                data: JSON.stringify({ format: 'rdf', configuration: myText }),
                
            });
            request.done(function (msg) {
                $("#demo").html(msg);
            });

            request.fail(function (jqXHR, textStatus) {
                $("#demo").html("Request failed: " + textStatus);
            });

            //document.getElementById("demo").innerHTML = myText;
        }
    </script>
</body>
</html>